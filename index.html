<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horario Ingeniería Electrónica</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f8fafc;
      color: #1e293b;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #0f172a;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #cbd5e1;
      padding: 12px;
      text-align: center;
      vertical-align: top;
    }
    th {
      background: #1e3a8a;
      color: white;
    }
    td:hover {
      background: #e0f2fe;
    }
    .subject {
      font-weight: bold;
      color: #0f172a;
    }
    .info {
      font-size: 12px;
      color: #475569;
    }
    textarea {
      width: 100%;
      height: 50px;
      resize: none;
      margin-top: 5px;
      font-size: 13px;
    }
    button {
      margin-top: 5px;
      background: #1e40af;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .tools {
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Horario Ingeniería Electrónica</h1>

  <div class="tools">
    <button onclick="exportarPDF()">Exportar a PDF</button>
    <button onclick="limpiarTareas()">Limpiar Tareas</button>
  </div>

  <table id="horario">
    <tr>
      <th>Hora</th>
      <th>Lunes</th>
      <th>Martes</th>
      <th>Miércoles</th>
      <th>Jueves</th>
      <th>Viernes</th>
    </tr>
    <tr>
      <td>06:00</td>
      <td id="Lun-6">
        <div class="subject">MT301B</div>
        Álgebra Lineal<br>
        <div class="info">Grupo 08 - Electrónica</div>
        <textarea placeholder="Añadir tarea..."></textarea>
      </td>
      <td id="Mar-6">
        <div class="subject">MT302B</div>
        Cálculo Diferencial<br>
        <div class="info">Grupo 02 - Electrónica</div>
        <textarea placeholder="Añadir tarea..."></textarea>
      </td>
      <td id="Mie-6">
        <div class="subject">HM301</div>
        Humanidades I<br>
        <div class="info">Grupo 05 - Electrónica</div>
        <textarea placeholder="Añadir tarea..."></textarea>
      </td>
      <td id="Jue-6">
        <div class="subject">MT302B</div>
        Cálculo Diferencial<br>
        <div class="info">Grupo 02 - Electrónica</div>
        <textarea placeholder="Añadir tarea..."></textarea>
      </td>
      <td id="Vie-6">
        <div class="subject">PG312</div>
        Técnicas de Autoaprendizaje<br>
        <div class="info">Grupo 08 - Electrónica</div>
        <textarea placeholder="Añadir tarea..."></textarea>
      </td>
    </tr>
    <!-- Puedes seguir agregando más filas aquí -->
  </table>

  <script>
    // Guardar y cargar tareas usando localStorage
    document.addEventListener("DOMContentLoaded", function () {
      const celdas = document.querySelectorAll("td[id]");
      celdas.forEach(celda => {
        const id = celda.id;
        const textarea = celda.querySelector("textarea");
        if (textarea) {
          textarea.value = localStorage.getItem(id) || "";
          textarea.addEventListener("input", () => {
            localStorage.setItem(id, textarea.value);
          });
        }
      });
    });

    function limpiarTareas() {
      if (confirm("¿Estás seguro de que deseas borrar todas las tareas?")) {
        const celdas = document.querySelectorAll("td[id]");
        celdas.forEach(celda => {
          const id = celda.id;
          const textarea = celda.querySelector("textarea");
          if (textarea) {
            localStorage.removeItem(id);
            textarea.value = "";
          }
        });
      }
    }

    function exportarPDF() {
      window.print(); // Simple export a PDF usando impresión del navegador
    }
  </script>
</body>
</html>
